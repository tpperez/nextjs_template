# Documenta√ß√£o do Projeto Next.js

## üìã √çndice

1. [Vis√£o Geral](#-vis√£o-geral)
2. [Pr√©-requisitos](#-pr√©-requisitos)
3. [Instala√ß√£o e Configura√ß√£o](#-instala√ß√£o-e-configura√ß√£o)
4. [Estrutura do Projeto](#-estrutura-do-projeto)
5. [Conven√ß√µes de C√≥digo](#-conven√ß√µes-de-c√≥digo)
6. [Tecnologias Utilizadas](#-tecnologias-utilizadas)
7. [Scripts Dispon√≠veis](#-scripts-dispon√≠veis)
8. [Arquitetura e Conceitos](#-arquitetura-e-conceitos)
9. [Testes](#-testes)
10. [Exemplos Pr√°ticos](#-exemplos-pr√°ticos)
11. [Workflows e Boas Pr√°ticas](#-workflows-e-boas-pr√°ticas)

---

## üéØ Vis√£o Geral

Este √© um projeto Next.js moderno utilizando o App Router, constru√≠do com React 19 e TypeScript. O projeto segue uma arquitetura bem definida com separa√ß√£o clara de responsabilidades e conven√ß√µes consistentes de c√≥digo.

### Caracter√≠sticas Principais

- ‚ö° **Next.js 15** com App Router e Turbopack
- üé® **Tailwind CSS 4** para estiliza√ß√£o
- üì± **TypeScript 5** para tipagem robusta
- üß™ **Jest + Testing Library** para testes
- üîÑ **Zustand** para gerenciamento de estado
- üìè **ESLint + Prettier** para qualidade de c√≥digo
- üéØ **Conventional Commits** para versionamento

---

## ‚úÖ Pr√©-requisitos

- **Node.js**: v22.15.1 (recomendado usar nvm)
- **npm** para gerenciamento de pacotes
- **Git** para controle de vers√£o

---

## üöÄ Instala√ß√£o e Configura√ß√£o

### 1. Clone e Setup Inicial

```bash
# Clone o reposit√≥rio
git clone [url-do-repositorio]
cd [nome-do-projeto]

# Use a vers√£o correta do Node.js
nvm use

# Instale as depend√™ncias
npm install
```

### 2. Configura√ß√£o de Ambiente

Crie um arquivo `.env.local` na raiz do projeto:

```env
# API Configuration
NEXT_PUBLIC_API_URL=https://api.example.com

# Database (se necess√°rio)
DATABASE_URL=postgresql://...

# Authentication (se usando NextAuth)
NEXTAUTH_SECRET=your-secret-here
NEXTAUTH_URL=http://localhost:3000
```

### 3. Primeiro Start

```bash
# Inicia o servidor de desenvolvimento
npm run dev

# Acesse: http://localhost:3000
```

---

## üìÅ Estrutura do Projeto

```
/app
‚îú‚îÄ‚îÄ layout.tsx                    # Layout raiz da aplica√ß√£o
‚îÇ
‚îú‚îÄ‚îÄ (routes)/                     # üóÇÔ∏è Todas as rotas da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # üîå API Routes (endpoints)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ example/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ (public)/                 # üåê Rotas p√∫blicas (sem auth)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx            # Layout para rotas p√∫blicas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (home)/               # üè† P√°gina inicial
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page-1/               # üìÑ Outras p√°ginas p√∫blicas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page-2/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ (auth)/                   # üîí Rotas protegidas (com auth)
‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx            # Layout para rotas autenticadas
‚îÇ       ‚îú‚îÄ‚îÄ page-3/               # üìÑ P√°ginas protegidas
‚îÇ       ‚îî‚îÄ‚îÄ page-4/
‚îÇ
‚îú‚îÄ‚îÄ components/                   # üß© Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ layout/                   # üèóÔ∏è Componentes estruturais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidebar/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ footer/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ ui/                       # üé® Componentes de interface
‚îÇ       ‚îú‚îÄ‚îÄ button/
‚îÇ       ‚îú‚îÄ‚îÄ input/
‚îÇ       ‚îî‚îÄ‚îÄ modal/
‚îÇ
‚îú‚îÄ‚îÄ views/                        # üì± Views/estruturas de p√°ginas
‚îÇ   ‚îú‚îÄ‚îÄ home/                     # üè† P√°gina inicial (public)
‚îÇ   ‚îú‚îÄ‚îÄ page-1/                   # üìÑ P√°gina 1 (public)
‚îÇ   ‚îú‚îÄ‚îÄ page-2/                   # üìÑ P√°gina 2 (public)
‚îÇ   ‚îú‚îÄ‚îÄ page-3/                   # üîí P√°gina 3 (auth)
‚îÇ   ‚îî‚îÄ‚îÄ page-4/                   # üîí P√°gina 4 (auth)
‚îÇ
‚îú‚îÄ‚îÄ constants/                    # üìä Constantes da aplica√ß√£o
‚îú‚îÄ‚îÄ hooks/                        # üé£ Custom hooks reutiliz√°veis
‚îú‚îÄ‚îÄ services/                     # üîß Servi√ßos e integra√ß√µes de API
‚îú‚îÄ‚îÄ stores/                       # üóÉÔ∏è Stores do Zustand
‚îú‚îÄ‚îÄ styles/                       # üé® Estilos globais e temas
‚îú‚îÄ‚îÄ typings/                      # üìù Defini√ß√µes de tipos globais
‚îú‚îÄ‚îÄ utils/                        # üõ†Ô∏è Fun√ß√µes utilit√°rias
‚îî‚îÄ‚îÄ public/                       # üìÅ Arquivos est√°ticos (servidos pelo Next.js)
    ‚îú‚îÄ‚îÄ images/                   # üñºÔ∏è Imagens (logos, √≠cones, fotos)
    ‚îú‚îÄ‚îÄ icons/                    # üéØ √çcones e favicons
    ‚îú‚îÄ‚îÄ documents/                # üìÑ PDFs, documentos para download
    ‚îú‚îÄ‚îÄ favicon.ico              # üåê Favicon principal
    ‚îú‚îÄ‚îÄ robots.txt               # ü§ñ Instru√ß√µes para crawlers
    ‚îî‚îÄ‚îÄ sitemap.xml              # üó∫Ô∏è Mapa do site

üìö **[Ver guia completo de arquivos est√°ticos ‚Üí](#-arquivos-est√°ticos-public-directory)**
```

### Organiza√ß√£o por Funcionalidade

Tanto **components** quanto **views** seguem a mesma estrutura padr√£o:

#### üß© Estrutura de Component

```
button/
‚îú‚îÄ‚îÄ button.tsx                   # üìÑ Componente principal
‚îú‚îÄ‚îÄ button.test.tsx              # üß™ Testes unit√°rios
‚îú‚îÄ‚îÄ button.type.ts               # üìù Tipos espec√≠ficos
‚îî‚îÄ‚îÄ index.ts                     # üì§ Arquivo de exporta√ß√£o
```

#### üì± Estrutura de View

```
home/
‚îú‚îÄ‚îÄ home.tsx                     # üìÑ View principal
‚îú‚îÄ‚îÄ home.test.tsx                # üß™ Testes unit√°rios
‚îú‚îÄ‚îÄ home.type.ts                 # üìù Tipos espec√≠ficos
‚îú‚îÄ‚îÄ home.store.ts                # üóÉÔ∏è Store espec√≠fico (se necess√°rio)
‚îú‚îÄ‚îÄ home.query.ts                # üîç Queries/API calls (se necess√°rio)
‚îú‚îÄ‚îÄ components/                  # üß© Componentes internos da view
‚îÇ   ‚îî‚îÄ‚îÄ hero-section/
‚îÇ       ‚îú‚îÄ‚îÄ hero-section.tsx
‚îÇ       ‚îú‚îÄ‚îÄ hero-section.test.tsx
‚îÇ       ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ index.ts                     # üì§ Arquivo de exporta√ß√£o
```

#### üìã Arquivos Opcionais

- `.store.ts` - Para views que precisam de estado espec√≠fico
- `.query.ts` - Para views com chamadas de API espec√≠ficas
- `/components/` - Para componentes que s√≥ existem dentro desta view

---

## üìù Conven√ß√µes de C√≥digo

### üè∑Ô∏è Nomenclatura

| Tipo                      | Conven√ß√£o           | Exemplo                                    |
| ------------------------- | ------------------- | ------------------------------------------ |
| **Arquivos e Diret√≥rios** | `kebab-case`        | `user-profile.tsx`, `auth-service/`        |
| **Vari√°veis e Fun√ß√µes**   | `camelCase`         | `userName`, `handleSubmit()`               |
| **Componentes**           | `PascalCase`        | `Button`, `Modal`, `Header`                |
| **Views**                 | `PascalCase + View` | `HomeView`, `LoginView`, `ProductListView` |
| **P√°ginas Next.js**       | `PascalCase + Page` | `HomePage`, `LoginPage`, `ProductsPage`    |
| **Interfaces**            | `I + PascalCase`    | `IUserData`, `IButtonProps`                |
| **Types**                 | `T + PascalCase`    | `TButtonVariant`, `TApiResponse`           |
| **Constantes**            | `UPPER_SNAKE_CASE`  | `API_BASE_URL`, `MAX_ATTEMPTS`             |

üìö **[Ver exemplos pr√°ticos de nomenclatura ‚Üí](#-conven√ß√µes-de-nomenclatura)**

### üèπ Arrow Functions (Obrigat√≥rio)

Este projeto utiliza **exclusivamente arrow functions** conforme configurado no ESLint:

```typescript
// ‚úÖ Correto - Arrow functions com return expl√≠cito
const handleClick = () => {
  return console.log('clicked')
}

const Button = ({ children }: IButtonProps) => {
  return <button>{children}</button>
}

// ‚ùå Incorreto - Function declarations n√£o s√£o permitidas
function handleClick() {          // ESLint error!
  console.log('clicked')
}

function Button(props) {          // ESLint error!
  return <button>{props.children}</button>
}
```

### ü§î Quando Usar Interface vs Type

| Uso                       | Interface (I)         | Type (T)                 |
| ------------------------- | --------------------- | ------------------------ |
| **Estruturas de objetos** | ‚úÖ `IUser`, `IProps`  | ‚ùå                       |
| **Unions/Literals**       | ‚ùå                    | ‚úÖ `TStatus`, `TVariant` |
| **Utilit√°rios**           | ‚ùå                    | ‚úÖ `TApiResponse<T>`     |
| **Extens√£o**              | ‚úÖ Pode ser estendida | ‚ùå N√£o extens√≠vel        |
| **Performance**           | ‚úÖ Melhor para TS     | ‚ö° Alias simples         |

### üéØ Padr√£o de Sufixos

```typescript
// ‚úÖ Correto - Sufixos consistentes
const HomePage = () => {                        // P√°gina do Next.js (arrow function)
  return <HomeView />                           // View que estrutura a p√°gina
}

const HomeView = () => {                        // View principal (arrow function)
  return (
    <div>
      <Header />                                // Component reutiliz√°vel
      <Button variant="primary" />              // Component de UI
    </div>
  )
}

// ‚ùå Incorreto - Function declarations
export default function Home() {                // Function declaration (n√£o usar)
  return <Home />                              // Confuso: mesmo nome da p√°gina
}
```

---

## üõ† Tecnologias Utilizadas

### Core Stack

- **Next.js** - Framework React full-stack com SSR/SSG
- **React** - Biblioteca para interfaces de usu√°rio
- **TypeScript** - JavaScript com tipagem est√°tica
- **Tailwind CSS** - Framework CSS utilit√°rio

### State & Data

- **Zustand** - Gerenciamento de estado leve e flex√≠vel

üìö **[Ver exemplo de implementa√ß√£o com Zustand ‚Üí](#Ô∏è-gerenciamento-de-estado-zustand)**

### Development & Quality

- **ESLint** - Linter de c√≥digo para qualidade
- **Prettier** - Formatador autom√°tico de c√≥digo
- **Jest** - Framework de testes unit√°rios
- **Testing Library** - Utilit√°rios para testes de componentes React

### Tooling

- **Husky** - Git hooks para automa√ß√£o
- **Commitizen** - Padroniza√ß√£o de commits convencionais
- **Turbopack** - Bundler r√°pido do Next.js

> üì¶ **Vers√µes espec√≠ficas**: Consulte o arquivo `package.json` para vers√µes exatas de todas as depend√™ncias.

---

## üîß Scripts Dispon√≠veis

### üöÄ Desenvolvimento

```bash
npm run dev          # Inicia servidor de desenvolvimento (Turbopack)
npm run build        # Gera build de produ√ß√£o
npm start           # Inicia servidor de produ√ß√£o
```

### üßπ Qualidade de C√≥digo

```bash
npm run lint         # Verifica problemas no c√≥digo
npm run lint:fix     # Corrige problemas automaticamente
npm run format       # Verifica formata√ß√£o
npm run format:fix   # Formata c√≥digo automaticamente
npm run tsc         # Verifica tipos TypeScript
```

### üß™ Testes

```bash
npm test            # Executa todos os testes
npm run test:watch  # Executa testes em modo watch (desenvolvimento)
```

### üîÑ Git e Commits

```bash
npm run prepare     # Configura Husky (hooks do Git)
git commit          # Commitizen abre automaticamente via Husky
```

---

## üèóÔ∏è Arquitetura e Conceitos

### üß© Diferen√ßa: Components vs Views

**Components** (`/components/`):

- üîÑ **Reutiliz√°veis** em v√°rias partes da aplica√ß√£o
- üéØ **Responsabilidade √∫nica** (bot√£o, input, modal)
- üß© **Test√°veis isoladamente**
- üì¶ **Sem l√≥gica de neg√≥cio complexa**

**Views** (`/views/`):

- üì± **Espec√≠ficas de uma p√°gina/tela**
- üé≠ **Orquestram m√∫ltiplos components**
- üß† **Cont√™m l√≥gica de neg√≥cio**
- üîó **Conectam stores, APIs, etc.**

üìö **[Ver exemplo de cria√ß√£o de Components ‚Üí](#-criando-component-reutiliz√°vel)**
üìö **[Ver exemplo de cria√ß√£o de Views ‚Üí](#-criando-view-de-p√°gina)**

### Hierarquia de Componentes e Views

1. **Layout Components** (`/components/layout/`)

   - Componentes estruturais da aplica√ß√£o
   - Headers, Footers, Sidebars, etc.

2. **UI Components** (`/components/ui/`)

   - Componentes reutiliz√°veis da interface
   - Buttons, Inputs, Modals, etc.

3. **Views** (`/views/`)
   - Estruturas completas de p√°ginas
   - L√≥gica de neg√≥cio e orquestra√ß√£o
   - Composi√ß√£o de componentes para formar uma tela

### üó∫Ô∏è Mapeamento Rotas ‚Üí Views

A estrutura de rotas tem correspond√™ncia direta com as views:

| Rota                                    | View                          | Tipo           |
| --------------------------------------- | ----------------------------- | -------------- |
| `app/(routes)/(public)/(home)/page.tsx` | `views/home/` ‚Üí `HomeView`    | üåê P√∫blica     |
| `app/(routes)/(public)/page-1/page.tsx` | `views/page-1/` ‚Üí `Page1View` | üåê P√∫blica     |
| `app/(routes)/(public)/page-2/page.tsx` | `views/page-2/` ‚Üí `Page2View` | üåê P√∫blica     |
| `app/(routes)/(auth)/page-3/page.tsx`   | `views/page-3/` ‚Üí `Page3View` | üîí Autenticada |
| `app/(routes)/(auth)/page-4/page.tsx`   | `views/page-4/` ‚Üí `Page4View` | üîí Autenticada |

**Padr√£o:**

```
(routes)/[group]/[page]/page.tsx  ‚Üí  views/[page]/  ‚Üí  [Page]View
```

üìö **[Ver exemplo de implementa√ß√£o de rotas ‚Üí](#Ô∏è-roteamento-nextjs)**

### ü§î Quando Usar Cada Abordagem

| Cen√°rio                   | Use Component                   | Use View                          |
| ------------------------- | ------------------------------- | --------------------------------- |
| **Bot√£o reutiliz√°vel**    | ‚úÖ `/components/ui/button/`     | ‚ùå                                |
| **Modal de confirma√ß√£o**  | ‚úÖ `/components/ui/modal/`      | ‚ùå                                |
| **Header da aplica√ß√£o**   | ‚úÖ `/components/layout/header/` | ‚ùå                                |
| **P√°gina inicial (Home)** | ‚ùå                              | ‚úÖ `/views/home/` ‚Üí `HomeView`    |
| **P√°ginas p√∫blicas**      | ‚ùå                              | ‚úÖ `/views/page-1/` ‚Üí `Page1View` |
|                           | ‚ùå                              | ‚úÖ `/views/page-2/` ‚Üí `Page2View` |
| **P√°ginas autenticadas**  | ‚ùå                              | ‚úÖ `/views/page-3/` ‚Üí `Page3View` |
|                           | ‚ùå                              | ‚úÖ `/views/page-4/` ‚Üí `Page4View` |

---

## üß™ Testes

### üéØ Estrat√©gia de Testes

#### Configura√ß√£o Jest

O Jest est√° configurado para:

- Ambiente jsdom para testes de componentes
- Auto-mocking de m√≥dulos
- Suporte a TypeScript
- Testing Library preconfigurado

üìö **[Ver exemplos completos de testes ‚Üí](#-exemplos-de-testes)**

### üèÉ‚Äç‚ôÇÔ∏è Executando Testes

```bash
# Todos os testes
npm test

# Modo watch (desenvolvimento)
npm run test:watch

# Com coverage
npm test -- --coverage

# Testes espec√≠ficos
npm test -- button
```

---

## üìö Exemplos Pr√°ticos

### üéØ Conven√ß√µes de Nomenclatura

```typescript
// ‚úÖ Correto
const userAge = 25
const handleUserLogin = () => {
  return // l√≥gica aqui
}
const UserDashboard = () => {
  return <div>Dashboard</div>
}

// Interfaces (para estruturas de objetos)
interface IUserData {
  id: string
  name: string
  email: string
}

interface IButtonProps {
  variant?: TButtonVariant
  children: React.ReactNode
}

// Types (para unions, primitivos, utilit√°rios)
type TButtonVariant = 'primary' | 'secondary' | 'danger'
type TSize = 'sm' | 'md' | 'lg'
type TStatus = 'loading' | 'success' | 'error'
type TTheme = 'light' | 'dark'

const MAX_RETRY_ATTEMPTS = 3

// ‚ùå Incorreto
const user_age = 25                    // snake_case
function HandleUserLogin() {}          // function declaration
const userDashboard = () => {}         // camelCase para componente
interface ButtonProps {}              // sem prefixo I
type UserData = {}                     // type para estrutura (use interface)
```

### üß© Criando Component Reutiliz√°vel

#### 1. Estrutura Base

```bash
# Crie o diret√≥rio do componente
mkdir app/components/ui/button
cd app/components/ui/button
```

#### 2. Arquivos do Component

```typescript
// button.type.ts
export interface IButtonProps {
  variant?: TButtonVariant
  size?: TSize
  children: React.ReactNode
  onClick?: () => void
}

export type TButtonVariant = 'primary' | 'secondary' | 'danger'
export type TSize = 'sm' | 'md' | 'lg'
```

```typescript
// button.tsx
import { IButtonProps } from './button.type'

export const Button = ({
  variant = 'primary',
  size = 'md',
  children,
  onClick
}: IButtonProps) => {
  return (
    <button
      className={`btn btn-${variant} btn-${size}`}
      onClick={onClick}
    >
      {children}
    </button>
  )
}
```

```typescript
// button.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { Button } from './button'

describe('Button', () => {
  it('should render with correct text', () => {
    render(<Button>Click me</Button>)

    expect(screen.getByRole('button')).toHaveTextContent('Click me')
  })

  it('should call onClick when clicked', () => {
    const handleClick = jest.fn()
    render(<Button onClick={handleClick}>Click me</Button>)

    fireEvent.click(screen.getByRole('button'))
    expect(handleClick).toHaveBeenCalledTimes(1)
  })

  it('should apply correct variant classes', () => {
    render(<Button variant="secondary">Test</Button>)

    expect(screen.getByRole('button')).toHaveClass('btn-secondary')
  })
})
```

```typescript
// index.ts
export { Button } from './button'
export type { IButtonProps, TButtonVariant, TSize } from './button.type'
```

### üì± Criando View de P√°gina

#### 1. Estrutura da View

```bash
# Crie o diret√≥rio da view
mkdir app/views/home
cd app/views/home
```

#### 2. Arquivos da View

```typescript
// home.type.ts
export interface IHomeProps {
  // Props vazias para home, mas mant√©m consist√™ncia da estrutura
}

export interface IHeroSection {
  title: string
  subtitle: string
  ctaText: string
}

export interface IFeature {
  id: string
  icon: string
  title: string
  description: string
}
```

```typescript
// home.tsx
import { Button } from '@/components/ui/button'
import { Card } from '@/components/ui/card'
import { HeroSection } from '@/components/layout/hero-section'
import { IHomeProps } from './home.type'

export const HomeView = ({}: IHomeProps) => {
  const heroData = {
    title: 'Bem-vindo √† Nossa Aplica√ß√£o',
    subtitle: 'A solu√ß√£o perfeita para suas necessidades',
    ctaText: 'Come√ßar Agora'
  }

  const features = [
    {
      id: '1',
      icon: 'üöÄ',
      title: 'R√°pido',
      description: 'Performance otimizada'
    },
    {
      id: '2',
      icon: 'üîí',
      title: 'Seguro',
      description: 'Dados protegidos'
    },
    {
      id: '3',
      icon: 'üì±',
      title: 'Responsivo',
      description: 'Qualquer dispositivo'
    }
  ]

  return (
    <div className="min-h-screen">
      <HeroSection {...heroData} />

      <section className="py-16 bg-gray-50">
        <div className="container mx-auto px-4">
          <h2 className="text-3xl font-bold text-center mb-12">
            Por que nos escolher?
          </h2>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {features.map((feature) => (
              <Card key={feature.id} className="text-center p-6">
                <div className="text-4xl mb-4">{feature.icon}</div>
                <h3 className="text-xl font-semibold mb-2">{feature.title}</h3>
                <p className="text-gray-600">{feature.description}</p>
              </Card>
            ))}
          </div>
        </div>
      </section>

      <section className="py-16">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-3xl font-bold mb-6">
            Pronto para come√ßar?
          </h2>
          <Button size="lg">
            Criar Conta Gr√°tis
          </Button>
        </div>
      </section>
    </div>
  )
}
```

```typescript
// index.ts
export { HomeView } from './home'
export type { IHomeProps, IHeroSection, IFeature } from './home.type'
```

#### 3. Usando a View na Rota

```typescript
// app/(routes)/(public)/(home)/page.tsx
import { HomeView } from '@/views/home'

const HomePage = () => {
  return <HomeView />
}

export default HomePage

// Metadados da p√°gina
export const metadata = {
  title: 'Bem-vindo | Minha Aplica√ß√£o',
  description: 'P√°gina inicial da nossa aplica√ß√£o incr√≠vel'
}
```

### üóÉÔ∏è Gerenciamento de Estado (Zustand)

```typescript
// stores/user.store.ts
import { create } from 'zustand'

interface IUser {
  id: string
  name: string
  email: string
}

interface IUserState {
  user: IUser | null
  isLoading: boolean

  // Actions
  setUser: (user: IUser) => void
  clearUser: () => void
  setLoading: (loading: boolean) => void
}

export const useUserStore = create<IUserState>((set) => ({
  user: null,
  isLoading: false,

  setUser: (user) => set({ user }),
  clearUser: () => set({ user: null }),
  setLoading: (isLoading) => set({ isLoading }),
}))
```

#### Uso da Store na View

```typescript
// views/profile/profile.tsx
import { useUserStore } from '@/stores/user.store'

export const ProfileView = () => {
  const { user, isLoading, setUser } = useUserStore()

  if (isLoading) return <div>Carregando...</div>
  if (!user) return <div>Usu√°rio n√£o encontrado</div>

  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  )
}
```

### üõ£Ô∏è Roteamento Next.js

#### Estrutura de Rotas

```typescript
// app/(routes)/(public)/products/page.tsx
import { ProductsView } from '@/views/products'

const ProductsPage = () => {
  return <ProductsView />
}

export default ProductsPage

// Metadados da p√°gina
export const metadata = {
  title: 'Produtos | Minha Loja',
  description: 'Confira nossos produtos incr√≠veis'
}
```

#### Layouts Personalizados

```typescript
// app/(routes)/(public)/layout.tsx - Layout para p√°ginas p√∫blicas
import { Header } from '@/components/layout/header'
import { Footer } from '@/components/layout/footer'

const PublicLayout = ({ children }: { children: React.ReactNode }) => {
  return (
    <div className="min-h-screen flex flex-col">
      <Header />

      <main className="flex-1 bg-white">
        {children}  {/* Aqui vai a p√°gina (HomeView, etc.) */}
      </main>

      <Footer />
    </div>
  )
}

export default PublicLayout
```

**Como funciona:**

- Todas as p√°ginas em `(public)/` usam este layout
- `children` = conte√∫do da p√°gina espec√≠fica (HomeView, etc.)
- Header e Footer aparecem em todas as p√°ginas p√∫blicas
- Layout √© aplicado automaticamente pelo Next.js

### üß™ Exemplos de Testes

#### Teste de Component

```typescript
// button.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { Button } from './button'

describe('Button', () => {
  it('should render with correct text', () => {
    render(<Button>Click me</Button>)

    expect(screen.getByRole('button')).toHaveTextContent('Click me')
  })

  it('should call onClick when clicked', () => {
    const handleClick = jest.fn()
    render(<Button onClick={handleClick}>Click me</Button>)

    fireEvent.click(screen.getByRole('button'))
    expect(handleClick).toHaveBeenCalledTimes(1)
  })

  it('should apply correct variant classes', () => {
    render(<Button variant="secondary">Test</Button>)

    expect(screen.getByRole('button')).toHaveClass('btn-secondary')
  })
})
```

#### Teste de Store

```typescript
// user.store.test.ts
import { act, renderHook } from '@testing-library/react'
import { useUserStore } from './user.store'

describe('useUserStore', () => {
  it('should set user correctly', () => {
    const { result } = renderHook(() => useUserStore())

    const mockUser = { id: '1', name: 'Jo√£o', email: 'joao@test.com' }

    act(() => {
      result.current.setUser(mockUser)
    })

    expect(result.current.user).toEqual(mockUser)
  })
})
```

### üìÅ Arquivos Est√°ticos (Public Directory)

#### Estrutura Recomendada

```
public/
‚îú‚îÄ‚îÄ images/                      # üñºÔ∏è Imagens gerais
‚îÇ   ‚îú‚îÄ‚îÄ hero/                    # Imagens de hero sections
‚îÇ   ‚îú‚îÄ‚îÄ products/                # Fotos de produtos
‚îÇ   ‚îî‚îÄ‚îÄ backgrounds/             # Imagens de fundo
‚îÇ
‚îú‚îÄ‚îÄ icons/                       # üéØ √çcones e favicons
‚îÇ   ‚îú‚îÄ‚îÄ favicon-16x16.png
‚îÇ   ‚îú‚îÄ‚îÄ favicon-32x32.png
‚îÇ   ‚îî‚îÄ‚îÄ apple-touch-icon.png
‚îÇ
‚îú‚îÄ‚îÄ documents/                   # üìÑ Arquivos para download
‚îÇ   ‚îú‚îÄ‚îÄ terms-of-service.pdf
‚îÇ   ‚îî‚îÄ‚îÄ privacy-policy.pdf
‚îÇ
‚îú‚îÄ‚îÄ favicon.ico                  # üåê Favicon principal
‚îú‚îÄ‚îÄ robots.txt                   # ü§ñ SEO - Instru√ß√µes para crawlers
‚îî‚îÄ‚îÄ sitemap.xml                  # üó∫Ô∏è SEO - Mapa do site
```

#### Como Usar no C√≥digo

```typescript
// ‚úÖ Correto - next/image (recomendado)
import Image from 'next/image'

<Image
  src="/images/logo.png"
  alt="Logo"
  width={200}
  height={100}
/>

<Image
  src="/icons/user-avatar.svg"
  alt="Avatar"
  width={40}
  height={40}
/>

// ‚ö†Ô∏è Use <img> apenas quando necess√°rio
<img src="/icons/small-icon.svg" alt="Icon" className="w-4 h-4" />

// ‚ùå Incorreto - n√£o precisa de '/public'
<Image src="/public/images/logo.png" alt="Logo" width={200} height={100} />
```

#### Com Next.js Image (Recomendado)

```typescript
import Image from 'next/image'

// ‚úÖ Otimiza√ß√£o autom√°tica de imagens
<Image
  src="/images/hero-banner.jpg"
  alt="Banner principal"
  width={800}
  height={400}
  priority // Para imagens above-the-fold
/>

// ‚úÖ Imagens responsivas
<Image
  src="/images/product-photo.jpg"
  alt="Produto"
  fill
  className="object-cover"
/>

// ‚úÖ Com placeholder
<Image
  src="/images/profile-photo.jpg"
  alt="Foto do perfil"
  width={150}
  height={150}
  placeholder="blur"
  blurDataURL="data:image/jpeg;base64,..."
/>
```

**Benef√≠cios do next/image:**

- üöÄ **Lazy loading** autom√°tico
- üì± **Responsivo** por padr√£o
- üé® **Otimiza√ß√£o** de formato (WebP, AVIF)
- ‚ö° **Performance** melhorada
- üìê **Evita layout shift**

#### ü§î Quando Usar Cada Abordagem

| Cen√°rio                     | Use next/image    | Use `<img>`     |
| --------------------------- | ----------------- | --------------- |
| **Fotos/imagens grandes**   | ‚úÖ Sempre         | ‚ùå              |
| **√çcones pequenos (<24px)** | ‚ö†Ô∏è Opcional       | ‚úÖ Recomendado  |
| **SVGs simples**            | ‚ö†Ô∏è Depende        | ‚úÖ Mais pr√°tico |
| **Imagens responsivas**     | ‚úÖ Sempre         | ‚ùå              |
| **Above-the-fold**          | ‚úÖ Com `priority` | ‚ùå              |
| **Background images**       | ‚ùå N√£o suporta    | ‚úÖ Via CSS      |

### üìÇ Organiza√ß√£o de Imports

```typescript
// ‚úÖ Ordem correta dos imports
import React from 'react' // 1. React sempre primeiro
import { create } from 'zustand' // 2. Bibliotecas externas (node_modules)

import { Button } from '@/components/ui/button' // 3. Imports internos (absolutos @/)
import { useAuthStore } from '@/stores/auth.store'

import { ComponentProps } from './component.type' // 4. Imports relativos (./ ou ../)
import './component.styles.css' // 5. CSS/Styles sempre por √∫ltimo

// ‚ùå Ordem incorreta
import './styles.css' // CSS no meio
import React from 'react' // React depois de outros
import { Button } from '@/components/ui/button'
import { create } from 'zustand' // Externa depois de interna
```

**Regras de organiza√ß√£o:**

1. **React** sempre primeiro
2. **Bibliotecas externas** (node_modules)
3. **Imports internos** com path absoluto (@/)
4. **Imports relativos** (./ ou ../)
5. **CSS/Styles** sempre por √∫ltimo

---

## üîÑ Workflows e Boas Pr√°ticas

### üåø Git Flow

```bash
# 1. Nova branch - SEMPRE incluir n√∫mero do card
git checkout -b ABC-123_user-authentication
git checkout -b ABC-456_button-alignment
git checkout -b ABC-789_critical-security-patch

# 2. Commits (Commitizen executa automaticamente)
git commit
# O Husky abre o Commitizen automaticamente

# 3. Push e PR
git push origin ABC-123_user-authentication
```

### üìã Conven√ß√£o de Branches

**Formato obrigat√≥rio:**

```
[CARD-ID]_[descri√ß√£o-kebab-case]
```

**Exemplos:**

```bash
PROJ-123_add-user-profile
PROJ-456_resolve-login-bug
PROJ-789_security-vulnerability
PROJ-101_update-dependencies
PROJ-202_update-readme
```

**Por que usar underscore para separar card da descri√ß√£o:**

- ‚úÖ **Separa√ß√£o visual clara** - distingue ID da descri√ß√£o
- ‚úÖ **Legibilidade** - mais f√°cil identificar onde acaba o card
- ‚úÖ **Mant√©m kebab-case** - descri√ß√£o continua no padr√£o de arquivos
- ‚úÖ **Consist√™ncia** - descri√ß√£o igual aos nomes de arquivos

### üéØ Padr√µes de Commit

**Formato gerado pelo Commitizen:**

```
tipo(escopo): descri√ß√£o breve

Descri√ß√£o mais detalhada (opcional)
```

**Exemplos de commits reais do Commitizen:**

```bash
feat: add user authentication component

Implements login form with email/password validation
and session management.

fix: resolve button alignment issue

Fixes horizontal alignment problem in mobile viewport.

docs: update component documentation

Adds usage examples and API reference for Button component.

# Com escopo
feat(auth): add login form validation

Implements client-side validation for email format
and password strength requirements.
```

### üéØ Benef√≠cios da Conven√ß√£o com Card ID

**Rastreabilidade:**

- ‚úÖ Conecta c√≥digo diretamente ao requisito/bug
- ‚úÖ Facilita code review e auditoria
- ‚úÖ Hist√≥rico completo do desenvolvimento

**Organiza√ß√£o:**

- ‚úÖ Branches agrupadas por projeto no Git
- ‚úÖ F√°cil identifica√ß√£o do contexto
- ‚úÖ Navega√ß√£o eficiente entre ferramentas

**Automa√ß√£o:**

- ‚úÖ Integra√ß√£o com ferramentas de projeto (Jira, Azure DevOps)
- ‚úÖ Fechamento autom√°tico de cards via commit
- ‚úÖ Relat√≥rios de deployment automatizados

### ü§ñ Automa√ß√£o com Husky

O projeto est√° configurado com **Husky hooks** que automatizam o processo:

```bash
# Ao fazer git commit, o Husky executa automaticamente:
git commit
# ‚Üì Husky hooks executam:
# 1. prepare-commit-msg: Abre Commitizen para commit estruturado
# 2. pre-commit: Executa tsc + testes + lint-staged
# 3. commit-msg: Valida formato do commit com commitlint
```

**Fluxo automatizado:**

- ‚úÖ **Testes** rodam antes do commit
- ‚úÖ **Linting** corrige c√≥digo automaticamente
- ‚úÖ **Commitizen** for√ßa commits padronizados
- ‚úÖ **Valida√ß√£o** garante formato correto

### üìã Checklist de Desenvolvimento

#### Antes de Commitar

- [ ] `npm run lint` - sem erros
- [ ] `npm run format` - c√≥digo formatado
- [ ] `npm run tsc` - sem erros de tipo
- [ ] `npm test` - todos os testes passando

#### Antes do PR

- [ ] Testes adicionados/atualizados
- [ ] Documenta√ß√£o atualizada
- [ ] Component/View exportado corretamente
- [ ] Tipos definidos adequadamente

---

**üìÖ √öltima atualiza√ß√£o**: Maio 2025
**üì¶ Vers√£o**: 1.0.0
**üë• Mantido por**: Thiago Pereira Perez
